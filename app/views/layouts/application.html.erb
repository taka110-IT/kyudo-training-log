<!DOCTYPE html>
<html>
  <head>
    <title><%= t 'layouts.application.title' %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-cache-control" content="no-cache">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>
  </head>

  <body>
    <header>
      <nav class="navbar">
        <div class="container-fluid col-10">
          <div>
            <%= link_to image_tag('title.png', alt: t('layouts.application.title')), root_path, data: { turbo_frame: "_top" } %>
          </div>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#Navber" aria-controls="Navber" aria-expanded="false" aria-label="レスポンシブ・ナビゲーションバー">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="Navber">
            <ul class="navbar-nav text-end">
              <% if user_signed_in? %>
                <li><%= t 'layouts.application.logged_in_as' %><strong><%= current_user.email %></strong></li>
                <li class="my-1"><%= link_to t('layouts.application.edit_profile'), edit_user_registration_path, class: 'navbar-link col-2 btn btn-outline-success btn-sm' %></li>
                <li class="my-1"><%= link_to t('layouts.application.logout'), destroy_user_session_path, data: { turbo_method: :delete }, class: 'navbar-link col-2 btn btn-outline-danger btn-sm' %></li>
              <% else %>
                <li class="my-1"><%= link_to t('devise.shared.links.sign_up'), new_user_registration_path, class: 'navbar-link col-2 btn btn-outline-primary btn-sm'  %></li>
                <li class="my-1"><%= link_to t('devise.shared.links.sign_in'), new_user_session_path, class: 'navbar-link col-2 btn btn-outline-success btn-sm'  %></li>
              <% end %>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <p class="notice"><%= notice %></p>
    <p class="alert"><%= alert %></p>
    <%= yield %>
    <%= turbo_frame_tag "practices_modal" %>
    <%= turbo_frame_tag "targets_modal" %>
    <%= turbo_frame_tag "achievement_message_modal" %>
  </body>
</html>
